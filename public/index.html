<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="description" content="World Humanitarian Data and Trend 2018"/>

  <title>World Humanitarian Data and Trends 2018</title>
  <link href="src/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts  -->
  <link href="src/vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,400i,600,600i,700,700i|Roboto+Condensed:300,300i,400,400i,700,700i|Roboto+Slab:100,300,400,700|Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i&subset=cyrillic,cyrillic-ext,greek,greek-ext,latin-ext,vietnamese"
    rel="stylesheet">


  <!-- Custom styles  -->
  <link href="src/css/slider.css" rel="stylesheet">
  <link href="src/css/style.css" rel="stylesheet">
  <link rel="manifest" href="/manifest.json">
</head>

<body id="body">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="container">

      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive"
        aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        WHDT
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#introduction">Introduction</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#protracted-crisis">Protracted&nbsp;crisis</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#impact-protracted-crisis">Impact&nbsp;of&nbsp;protracted&nbsp;crisis</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#improve-humanitarian-action">Opportunities&nbsp;for&nbsp;improving&nbsp;action</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#resources">Resources</a>
          </li>
        </ul>
        <a class="accessibility-button" data-toggle="modal" data-target="#accessibility">
          <i class="fab fa-accessible-icon"></i>
        </a>
      </div>
    </div>
  </nav>


  <!-- Header -->
  <header class="header">
    <ul class="cb-slideshow container">
      <li>
        <div class="container d-flex h-100 align-items-center">
          <div class="mx-auto text-center">
            <h1 class="mx-auto my-0 text-uppercase">World Humanitarian Data and Trends 2018</h1>
          </div>
        </div>
      </li>
      <li>
        <div class="container d-flex h-100 align-items-center">
          <div class="mx-auto text-center">
            <h1 class="mx-auto my-0 text-uppercase">World Humanitarian Data and Trends 2018</h1>
          </div>
        </div>
      </li>
      <li>
        <div class="container d-flex h-100 align-items-center">
          <div class="mx-auto text-center">
            <h1 class="mx-auto my-0 text-uppercase">World Humanitarian Data and Trends 2018</h1>
          </div>
        </div>
      </li>
      <li>
        <div class="container d-flex h-100 align-items-center">
          <div class="mx-auto text-center">
            <h1 class="mx-auto my-0 text-uppercase">World Humanitarian Data and Trends 2018</h1>
          </div>
        </div>
      </li>
      <li>
        <div class="container d-flex h-100 align-items-center">
          <div class="mx-auto text-center">
            <h1 class="mx-auto my-0 text-uppercase">World Humanitarian Data and Trends 2018</h1>
          </div>
        </div>
      </li>
    </ul>
  </header>

  <!-- Introduction Section -->
  <section id="introduction" class="introduction-section text-center">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto scroll-fade-content">
          <h2 class="text mb-4">Introduction</h2>
          <p class="text-50">World Humanitarian Data and Trends (WHDT) 2018 highlights major trends in the nature of
            humanitarian crises, their causes and drivers. This yearâ€™s report includes case studies on the evolution of
            protracted crises, attacks on health care, attacks on education, water and conflict, and strengthening
            local action through country-based pooled funds. </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Big Parallex Image -->
  <section class="wow slideInUp ">
    <div class="big-photo" id="first_parallex"></div>
  </section>

  <!-- Protracted Crisis Section -->
  <section id="protracted-crisis" class="protracted-crisis-section text-center">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto scroll-fade-content">
          <h2 class="text mb-4">Protracted Crisis</h2>
          <p class="text-50">Humanitarian crises are increasing in number and in duration. Since 2005, the average
            length of crises with an active inter-agency appeal rose from four to seven years in 2017, while the number
            of active crises receiving an internationally-led response almost doubled from 16 in 2005 to 30 in 2017.
            These trends are also reflected in the steady growth of people in need and people targeted for assistance.
            The majority of people targeted receive assistance for five years or more (nearly 60 per cent). Since 2015,
            appeals for crises lasting five years or longer have spiked and now command most funding received and
            requested (80 per cent, compared to approximately 30 per cent in 2015). In the absence of political
            solutions to long-standing crises, these trends are likely to increase, with humanitarians staying longer
            in crisis situations, emphasizing the need for closer cooperation and collaboration between humanitarian
            and development actors to decrease vulnerability in the long term.</p>
          <!--<a href="https://www.hpc.tools/" target="_blank" class="btn btn-primary js-scroll-trigger">More on HPC Viewer</a>-->
        </div>
      </div>
    </div>
  </section>

  <!-- Data Biz Section -->
  <section id="hdxChart" class="hdxChart">
    <div class="wrapper">
      <div class="row">
        <div id="funding-trend" class="col2">
          <h4 data-localize="funding-trend-text">Number of Inter-agency appeals & average length of crises (YEARS)</h4>
          <div id="nubmer-inter-agency"></div>
        </div>
        <div id="peopletargeted-trend" class="col2">
          <h4 data-localize="peopletargeted-trend-text">Funding received by appeal length (US $ million)</h4>
          <div id="requested-by-appeal"></div>
        </div>
      </div>

    </div>
    <div class="wrapper">
      <div id="at-a-glance-charts" class="row">
        <div id="funding-trend" class="col2">
          <h4 data-localize="funding-trend-text">People requested by appeal length (US $ million)</h4>
          <div id="received-by-appeal"></div>
        </div>
        <div id="peopletargeted-trend" class="col2">
          <h4 data-localize="peopletargeted-trend-text">Funding targeted by appeal length (US $ million)</h4>
          <div id="targeted-by-appeal"></div>
        </div>
      </div>
    </div>
    <div class="wrapper text-center" id="cumulative-apppeal">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto">
            <h4 data-localize="funding-trend-text">Crises by number of cumulative appeals</h4>
            <p class="text-50">Data runs until 2016, which is the most recent year for which complete data was
              available at the time of publication.</p>

          </div>
        </div>
      </div>
      <div id="funding-tables">
        <table id="crises">
          <thead>
            <tr class="header-row">
              <td class="country-name"></td>


              <td class="percentagebar">
                <span style="float:left;" data-localize="funded_text">Number of Cumulative Appeals</span>
                <span data-localize="notfunded_text">&nbsp;</span>
                <div class="outerbar">
                  <div class="innerbar" style="width:50%;"></div>
                </div>
              </td>
              <td class="percentagefigure">
                <h3>#</h3>
              </td>
            </tr>
            <tr class="break-row">
              <td></td>
              <td></td>
              <td></td>
            </tr>
          </thead>
          <tbody>
            <!-- Country lists goes here -->
          </tbody>
        </table>
        <p class="sources" id="overview-source" data-localize="overview_sources"><span>Powered by <a  aria-label="HDX"  href="https://data.humdata.org/dataset/world-humanitarian-data-and-trends"
              target="_blank"><img alt="HDX logo"src="src/img/HDX-logo-home.svg" class="hdx"></a></span><br>To find out more about
          the state of current crises, visit <i>Humanitarian Insights</i> (<a href="https://www.hpc.tools/" target="_blank">https://www.hpc.tools/</a>)</p>
      </div>
  </section>

  <!-- Big Parallex Image -->
  <section class="wow slideInUp ">
    <div class="big-photo" id="second_parallex"></div>
  </section>

  <!-- Impact Protracted Crisis Section -->
  <section id="impact-protracted-crisis" class="impact-protracted-crisis-section text-center">
    <div class="container-fluid">
      <div class="row">
        <div class="container">
          <div class="row">
            <div class="col-lg-8 mx-auto scroll-fade-content">
              <h2 class="text mb-4">Impact of protracted crises</h2>
              <p class="text-50">Protracted crises, often driven by intractable conflict, have consequences that affect
                entire communities and put basic services in jeopardy. International humanitarian law prohibits the
                targeting of civilian objects, emphasizing the importance of schools and hospitals to the civilian
                population, especially children. However, these facilities continue to be targeted during conflicts.
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Attack on Healthcare Row -->
      <div class="row">
        <div class="container">
          <div class="row">
            <div class="row align-items-center no-gutters mb-4 mb-lg-5">
              <div class="col-xl-8 col-lg-7">
                <img alt="Protection of healthcare facilities " class=" img-fluid mb-3 mb-lg-0" src="src/img/attack-health01.jpg" alt="">
                <!--
                <div id="impact-protracted" class="carousel slide" data-ride="carousel">
                  <ol class="carousel-indicators">
                    <li data-target="#impact-protracted" data-slide-to="0" class="active"></li>
                    <li data-target="#impact-protracted" data-slide-to="1"></li>
                    <li data-target="#impact-protracted" data-slide-to="2"></li>
                    <li data-target="#impact-protracted" data-slide-to="3"></li>
                  </ol>
                  <div class="carousel-inner">
                    <div class="carousel-item active">
                      <img class="img-fluid mb-3 mb-lg-0" src="src/img/attack-health01.jpg" alt="">
                    </div>
                    <div class="carousel-item">
                      <img class="img-fluid mb-3 mb-lg-0" src="src/img/attack-health02.jpg" alt="">
                    </div>
                    <div class="carousel-item">
                      <img class="img-fluid mb-3 mb-lg-0" src="src/img/attack-health03.jpg" alt="">
                    </div>
                    <div class="carousel-item">
                      <img class="img-fluid mb-3 mb-lg-0" src="src/img/attack-health04.jpg" alt="">
                    </div>

                  </div>
                  <a class="carousel-control-prev" href="#impact-protracted" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                  </a>
                  <a class="carousel-control-next" href="#impact-protracted" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                  </a>
                </div>
              -->
              </div>
              <div class="col-xl-4 col-lg-5">
                <div class="featured-text scroll-fade-content text-center text-lg-left">
                  <h4>Protection of healthcare facilities</h4>
                  <p class="text-black-50 mb-0">Protection of healthcare workers and facilities in armed conflict is a
                    tenet of international humanitarian law and the focus of Security Council resolution 2286. Yet,
                    healthcare workers were the victims of more than 700 targeted attacks in 2017 --and potentially
                    many more that went unreported. Attacks were concentrated in the Middle East and Africa, with
                    Afghanistan (66), occupied Palestinian territory (93) and Syria (252) recording the most incidents.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Attack on Education Row -->
      <div class="row">
        <div class="container-fluid">
          <div class="row featured-text2">
            <div class="container scroll-fade-content">
              <div class="col-md-10 col-lg-8 mx-auto text-center">
                <h4 class="text mb-4">Attacks on Education</h4>
                <p class="text-black-50">In 2017, the United Nations verified 188 incidents of military use of schools,
                  both by
                  government forces and rebel groups. In Syria alone, since the onset of the conflict in 2011, the
                  protracted crisis has resulted in severe consequences. By May 2018, more than 2 million children
                  between the ages of 5 and 17 were out of school, while more than 180,000 education personnel,
                  including teachers, have abandoned school sites and classrooms.
                </p>

              </div>
            </div>
          </div>
          <div class="row justify-content-center scroll-fade-content no-gutters">
            <div class="col-lg-6">
              <img alt="Attack on education" class="img-fluid" src="src/img/attack-education01.jpg" alt="">
            </div>
            <div class="col-lg-6 order-lg-first">
              <!--<img class="img-fluid" src="src/img/attack-education03.jpg" alt="">-->
              <figure>
                <img alt="Attack on education: Young students play in the ruins of the Aal Okab school" class="img-fluid" src="src/img/attack-education03.jpg">
                <figcaption class="image-caption">
                  <p>Yemen: Young students play in the ruins of the Aal Okab school, destroyed in June 2015. </p>
                </figcaption>
              </figure>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- Opportunity for Improve Section -->
  <section id="improve-humanitarian-action" class="opportunity-for-improve-section text-center">
    <div class="container-fluid">
      <div class="row">
        <div class="container">
          <div class="row">
            <div class="col-lg-8 mx-auto scroll-fade-content">
              <h2 class="text mb-4">Opportunities for improving action</h2>
              <p class="text-50">In the face of protracted crises, humanitarians are moving towards working closer
                together with development and other partners, to address root causes of vulnerability. </p>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="big-photo" id="intro-photo">
          <div class="wrapper"></div>
          <div class="photo-caption">
            <div class="scroll-fade-content">
              <p data-localize="ataglance_photocaption">Camp C, Pulka, Gwoza LGA, Borno State, Nigeria. Ongoing
                construction of 700 NHF-funded IOM shelters.</p>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="container">
          <div class="row">
            <div class="col-lg-8 mx-auto scroll-fade-content">
              <h2 class="text mb-4">Strengthening local action through country-based pooled funds (CBPFs)
              </h2>
              <p class="text-50">CBPFs play a valuable role in supporting the localization of humanitarian assistance
                and aid delivery by directing funding to national NGOs that may have more familiarity with
                on-the-ground conditions. In 2017, CBPFs funded 1,288 projects implemented by 657 partners. Allocations
                to local partners have generally increased. In the Democratic Republic of Congo, the share of funding
                to national NGOs rose from 21 per cent in 2016 to 38 per cent in 2017. However, overall contributions
                to CBPFs still fall short of the target set under the Grand Bargain, which envisions 15 per cent of
                humanitarian requirements to be channelled through CBPFs. Reaching this target would allow CBPFs to be
                even more effective in distributing funds to the best-placed responder.
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="row justify-content-center no-gutters">
        <div class="col-lg-6">
          <img alt="Strengthening local action" class="img-fluid" src="src/img/cbpf01.jpg" alt="">
        </div>
        <div class="col-lg-6 order-lg-first">
          <img alt="Strengthening local action" class="img-fluid" src="src/img/cbpf02.jpg" alt="">
        </div>
      </div>
    </div>
  </section>

  <!-- Using Artificial Intelligence Section -->
  <section id="improve-humanitarian-action" class="opportunity-for-improve-section text-center">
    <div class="container-fluid">
      <div class="row">
        <div class="container ">
          <div class="row">
            <div class="col-lg-8 mx-auto scroll-fade-content">
              <h2 class="text mb-4">Using Artificial Intelligence to Track Displacement </h2>
              <p class="text-50">The global picture on internal displacement is currently incomplete. Not all incidents
                of internal displacement are reported and only some of the figures can be verified. New tools are
                emerging to bolster collection and verification efforts.One example is the Internal Displacement Event
                Tagging and Clustering Tool (IDETECT) â€“ this tool mines huge news data sets, and through natural
                language processing and machine learning algorithms, it classifies reports by type of displacement,
                while also extracting information about location and the number of people displaced in real time.
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="row justify-content-center no-gutters ">
        <div class="big-photo" id="ai-photo">
          <div class="wrapper"></div>
          <div class="photo-caption">
            <div class="scroll-fade-content">
              <p data-localize="ataglance_photocaption">Nigeria: internally displaced people at Wege Arrival Camp
                (Pulka Transit Camp)
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="container">
          <div class="row">
            <div class="col-lg-8 mx-auto">
              <p class="text-50">The timelines below illustrate the ow of displacement facts captured through IDETECT,
                validated and cross-checked against events that took place in Nigeria through 2017.</p>
              <img alt="Timeline Image" src="src/img/timeline01.png" class="img-fluid ">
            </div>
          </div>
          <div class="row">
            <p class="sources">To find out more about the current humanitarian response in Nigeria, visit Humanitarian
              Insights <a href="https://www.hpc.tools/plan/642" target="_blank">https://www.hpc.tools/plan/642</a> </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Resources Section -->
  <section id="resources" class="resources-section text-center">
    <div class="container-fluid">
      <div class="row">
        <div class="container">
          <div class="row">
            <div class="col-lg-8 mx-auto scroll-fade-content">
              <h2 class="text mb-4">Resources</h2>
              <p class="text-50">World Humanitarian Data and Trends is just one part of OCHA's efforts to improve data
                and analysis on humanitarian situations worldwide and build a humanitarian data community.
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="row justify-content-center no-gutters">
        <div class="container">
          <div class="row">
            <div class="col-md-2 scroll-fade-content col-sm-4 mb-3 mb-md-0">
              <div class="card py-4 h-100">
                <div class="card-body text-center">
                  <i class="fas fa-file-pdf text-primary mb-2"></i>
                  <h4 class="text-uppercase m-0">Read the Report (PDF)</h4>
                  <hr class="my-4">
                </div>
              </div>
            </div>

            <div class="col-md-2 scroll-fade-content col-sm-4 mb-3 mb-md-0">
              <div class="card py-4 h-100">
                <div class="card-body text-center">
                  <i class="fas fa-file-pdf text-primary mb-2"></i>
                  <h4 class="text-uppercase m-0">Highlights</h4>
                  <hr class="my-4">
                </div>
              </div>
            </div>

            <div class="col-md-2 scroll-fade-content col-sm-4 mb-3 mb-md-0">
              <div class="card py-4 h-100">
                <div class="card-body text-center">
                  <i class="fas fa-globe-africa text-primary mb-2"></i>
                  <h4 class="text-uppercase m-0">Global Landscape</h4>
                  <hr class="my-4">
                </div>
              </div>
            </div>

            <div class="col-md-2 scroll-fade-content col-sm-4 mb-3 mb-md-0">
              <div class="card py-4 h-100">
                <div class="card-body text-center">
                  <a href="https://data.humdata.org/dataset/world-humanitarian-data-and-trends" target="_blank">
                    <i class="fas fa-database text-primary mb-2"></i>
                    <h4 class="text-uppercase m-0">Data</h4>
                    <hr class="my-4">
                  </a>
                </div>
              </div>
            </div>
            <div class="col-md-2 scroll-fade-content mb-3 mb-md-0">
              <div class="card py-4 h-100">
                <div class="card-body text-center">
                  <i class="far fa-eye text-primary mb-2"></i>
                  <h4 class="text-uppercase m-0">Visuals</h4>
                  <hr class="my-4">
                </div>
              </div>
            </div>
            <div class="col-md-2 scroll-fade-content col-md-offset-2 mb-3 mb-md-0">
              <div class="card py-4 h-100" data-toggle="modal" data-target="#pastReports">
                <div class="card-body text-center">
                  <i class="fas fa-download text-primary mb-2"></i>
                  <h4 class="text-uppercase m-0">Past Reports</h4>
                  <hr class="my-4">
                </div>
              </div>
            </div>

          </div>
        </div>

      </div>
  </section>

  <!-- Footer Section -->
  <section id="footer" class="footer-section">
    <div class="container scroll-fade-content text-center text-white">
      <div class="row">
        <div class="social scroll-fade-content d-flex justify-content-center">
          <a href="https://twitter.com/ochapolicy" aria-label="Twitter" target="_blank" class="mx-2">
            <i class="fab fa-twitter"></i>
          </a>
        </div>
      </div>
      <div class="row">
        <div class="col-md-10 col-lg-8 mx-auto">
          <h2 class="text-white mb-5 footer-header">The Information Gap</h2>
          <p>Due to the complexity of humanitarian crises, there are many gaps in the available information. Even the
            concepts of humanitarian needs and assistance are flexible, and there are inherent biases in the
            information. To truly understand and measure impact, the humanitarian community will need to continue
            working on better standards and ways of collecting, sharing and using data.</p>
          <p>WHDT is structured in accordance with the Agenda for Humanityâ€™s five Core Responsibilities, which set out
            changes needed to reduce need, risk and vulnerability. To learn more, visit <a href="" target="_blank">www.agendaforhumanity.org</a>.
          </p>
          <a href="https://www.unocha.org" target="_blank" aria-label="UNOCHA"><img alt="UNOCHA" src="src/img/logo-ocha.png" style="width: 109px;height: 27px;"></a>
        </div>
      </div>
    </div>
  </section>

  <!-- MODALS -->

  <!-- Past Reports Modal -->
  <div class="modal fade" id="pastReports" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Past Reports</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <ul class="list-group">
            <li class="list-group-item"><i class="fas fa-file-pdf text-primary mb-2"></i> <a href="src/reports/World_Humanitarian_Data_and_Trends_2017.pdf"
                target="_blank">2017</a></li>
            <li class="list-group-item"><i class="fas fa-file-pdf text-primary mb-2"></i> <a href="src/reports/World_Humanitarian_Data_and_Trends_2016.pdf"
                target="_blank">2016</a></li>
            <li class="list-group-item"><i class="fas fa-file-pdf text-primary mb-2"></i> <a href="src/reports/World_Humanitarian_Data_and_Trends_2015.pdf"
                target="_blank">2015</a></li>
            <li class="list-group-item"><i class="fas fa-file-pdf text-primary mb-2"></i> <a href="src/reports/World_Humanitarian_Data_and_Trends_2014.pdf"
                target="_blank">2014</a></li>
            <li class="list-group-item"><i class="fas fa-file-pdf text-primary mb-2"></i> <a href="src/reports/World_Humanitarian_Data_and_Trends_2013.pdf"
                target="_blank">2013</a></li>
            <li class="list-group-item"><i class="fas fa-file-pdf text-primary mb-2"></i> <a href="src/reports/World_Humanitarian_Data_and_Trends_2012.pdf"
                target="_blank">2012</a></li>
          </ul>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Accessibility Modal -->
  <div class="modal fade" id="accessibility" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Accessibility Options</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
        <ul class="list-group">
          <li class="list-group-item"><i class="fas fa fa-adjust text-primary mb-2"></i> <a id="btnHighContrast">High
              Contrast</a> &nbsp;
            &nbsp;&nbsp;<i class="fa fa-adjust" aria-hidden="true"></i> <a id="btnNormalContrast">Normal Contrast</a></li>
          <li class="list-group-item"><i class="fas fa-link text-primary"></i> <a id="btnYellowLinks">Yellow Links</a>
            &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;<i class="fas fa-link"></i> <a id="btnNormalLinks">Normal Links</a></i></li>
          <li class="list-group-item"><i class="fas fa fa-barcode text-primary" aria-hidden="true"></i> <a id="btnGreyScale">Grayscale
              Mode</a> &nbsp;&nbsp;&nbsp;<i class="fa fa-barcode" aria-hidden="true"></i> <a id="btnRegularColor">Regular
              Mode</a></li>
          <li class="list-group-item"><i class="fas fa fa-underline text-primary" aria-hidden="true"></i> <a id="btnUnderline">Underline
              Links</a> &nbsp;&nbsp;&nbsp;<i class="fa fa-underline" aria-hidden="true"></i> <a id="btnDefault">Default
              Links</a></li>
          <li class="list-group-item"><i class="fas fa fa-adjust text-primary mb-2" aria-hidden="true"></i> <a id="btnText">Text
              color contrast
            </a> &nbsp;&nbsp;&nbsp;<i class="fas fa-adjust" aria-hidden="true"></i> <a id="btnTextNormal">Normal text color
            </a></li>
          <li class="list-group-item"><a href="javascript:resizeText('minus')"><i class="fa fa-font" title="Normal font"
                aria-hidden="true"></i><sup>-</sup></a>&nbsp;&nbsp;<a href="javascript:resizeText('add')"><i class="fa fa-2x fa-font"
                title="Larger font" aria-hidden="true"></i><sup>+</sup></a> </li>
        </ul>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap core JavaScript -->
  <script src="src/vendor/jquery/jquery.min.js"></script>
  <script src="src/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Plugin JavaScript -->
  <script src="src/vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts -->
  <script src="src/js/main.min.js"></script>

  <!-- Custom scripts for the ServiceWorker -->
  <!--<script src="src/js/app.js"></script>-->

  <!-- Greensock -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.4/TweenMax.min.js"></script>

  <!-- ScrollMagic -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.6/ScrollMagic.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.6/plugins/animation.gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/debug.addIndicators.min.js"></script>

  <!-- D3 -->
  <script src="src/js/d3.min.js"></script>

  <!-- Crossfilter -->
  <script src="src/js/crossfilter.v1.min.js"></script>

  <!-- Frappe Chart -->
  <script src="https://cdn.jsdelivr.net/npm/frappe-charts@1.1.0/dist/frappe-charts.min.iife.js"></script>

  <!--Scroll Magic-->
  <script>
    // init ScrollMagic
    $(document).ready(function () {
      var controller = new ScrollMagic.Controller();
      // fade in items
      $('.scroll-fade-content').each(function () {
        var fadeIn = new ScrollMagic.Scene({
            triggerElement: this.children[0],
            triggerHook: 0.8,
            duration: "100%"
          })
          .setClassToggle(this, 'fade-in')
          .addTo(controller);
      });
    });
  </script>

  <!-- Accessibility Script-->
  <script>

    

    
    document.getElementById('btnHighContrast').addEventListener('click', function () {

      $("<link/>", {
        rel: "stylesheet",
        type: "text/css",
        href: "src/css/high-contrast.css",
        title: "underline"
      }).appendTo("head");
    });
    document.getElementById('btnYellowLinks').addEventListener('click', function () {
      $("<link/>", {
        rel: "stylesheet",
        type: "text/css",
        href: "src/css/yellow-links.css",
        title: "underline"
      }).appendTo("head");
    });
    document.getElementById('btnUnderline').addEventListener('click', function () {
      $("<link/>", {
        rel: "stylesheet",
        type: "text/css",
        href: "src/css/underline-links.css",
        title: "underline"
      }).appendTo("head");
    });
    document.getElementById('btnText').addEventListener('click', function () {
      $("<link/>", {
        rel: "stylesheet",
        type: "text/css",
        href: "src/css/text-color-contrast.css",
        title: "underline"
      }).appendTo("head");
    });


    document.getElementById('btnDefault').addEventListener('click', function () {
      $("LINK[href*='src/css/underline-links.css']").remove();
    });
    document.getElementById('btnGreyScale').addEventListener('click', function () {
      $("<link/>", {
        rel: "stylesheet",
        type: "text/css",
        href: "src/css/greyscale.css",
        title: "underline"
      }).appendTo("head");
    });
    document.getElementById('btnRegularColor').addEventListener('click', function () {
      $("LINK[href*='src/css/greyscale.css']").remove();
    });

    document.getElementById('btnNormalContrast').addEventListener('click', function () {
      $("LINK[href*='src/css/high-contrast.css']").remove();
    });
    document.getElementById('btnTextNormal').addEventListener('click', function () {
      $("LINK[href*='src/css/text-color-contrast.css']").remove();
    });
    document.getElementById('btnNormalLinks').addEventListener('click', function () {
      $("LINK[href*='css/yellow-links.css']").remove();
    });
  </script>

  <!-- Script for the Data Visulaization -->
  <!-- The first four charts data comes from the spreadsheet found under the data folder -->
  <!-- The "Crises by number of cummulative appeals " section data comes from an api call from  https://proxy.hxlstandard.org/data.json?strip-headers=on&url=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2F1q8CtQ5WF0k9E6dYiPmYDTRysLmxFfRRJaFuxnDlzPT8%2Fedit%23gid%3D1471518527&force=on -->
  <script>
    d3.csv('src/data/crises_length.csv', function (crises) {
      var interAarr = [],
        avgLCArr = [],
        yearArr = [];
      crises.forEach(function (element, index) {
        yearArr.push(Number(element['year']));
        interAarr.push(Number(element['Number of inter-agency appeals']));
        avgLCArr.push(Number(element['Average length of crises']));
      });

      const data = {
        labels: yearArr,
        datasets: [{
            name: "Inter-Agency Appeals",
            type: "line",
            values: interAarr
          },
          {
            name: "Average Length of Crisis",
            type: "line",
            values: avgLCArr
          }

        ]
      }

      const chart = new frappe.Chart("#nubmer-inter-agency", { // or a DOM element,
        
        title: "",
        data: data,
        type: 'axis-mixed', // or 'bar', 'line', 'scatter', 'pie', 'percentage'
        height: 350,
        colors: ['#0F6FB5', "#FA575C"],
        isNavigable: 1,
        valuesOverPoints: 1,
        lineOptions: {
          dotSize: 8
        }
      })
    })
  </script>
  <script>
    function formatFloat(number) {
      return Math.round(number * 100) / 100;
    }

    d3.csv('src/data/data.csv', function (received) {
      var fundingRq12 = [],
        fundingRq34 = [],
        fundingRq56 = [],
        fundingRq7 = [],
        yearsArr = [];

      received.forEach(function (element, index) {

        if (element['indicator'] === 'Funding Requested') {
          yearsArr.push(Number(element['year']));
          fundingRq12.push(formatFloat(Number(element['_1_2y'])));
          fundingRq34.push(formatFloat(Number(element['_3_4y'])));
          fundingRq56.push(formatFloat(Number(element['_5_6y'])));
          fundingRq7.push(formatFloat(Number(element['_7y'])));
        }
      });
      const appeal_data = {
        labels: yearsArr,
        datasets: [{
            name: "1-2 years",
            type: "line",
            values: fundingRq12
          },
          {
            name: "3-4 years",
            type: "line",
            values: fundingRq34
          },
          {
            name: "5-6 years",
            type: "line",
            values: fundingRq56
          },
          {
            name: ">7 years",
            type: "line",
            values: fundingRq7
          }
        ]
      }
      // console.log(appeal_data);
      const appeal_charts = new frappe.Chart("#requested-by-appeal", { // or a DOM element,
        
        title: "",
        data: appeal_data,
        type: 'bar', // or 'bar', 'line', 'scatter', 'pie', 'percentage'
        height: 350,
        colors: ["#FA575C", "#0F6FB5", "#DBDFD9", "#758D91"],
        barOptions: {
          stacked: 1
        }
      })
    })
  </script>

  <script>
    function formatFloat(number) {
      return Math.round(number * 100) / 100;
    }
    d3.csv('src/data/data.csv', function (received) {
      var target12 = [],
        target34 = [],
        target56 = [],
        target7 = [],
        targetedYearsArr = [];
      received.forEach(function (element, index) {

        if (element['indicator'] === 'People Targeted') {
          targetedYearsArr.push(Number(element['year']));
          target12.push(formatFloat(Number(element['_1_2y'])));
          target34.push(formatFloat(Number(element['_3_4y'])));
          target56.push(formatFloat(Number(element['_5_6y'])));
          target7.push(formatFloat(Number(element['_7y'])));
        }

      });


      const targeted_data = {
        labels: targetedYearsArr,
        datasets: [{
            name: "1-2 years",
            type: "line",
            values: target12
          },
          {
            name: "3-4 years",
            type: "line",
            values: target34
          },
          {
            name: "5-6 years",
            type: "line",
            values: target56
          },
          {
            name: ">7 years",
            type: "line",
            values: target7
          }

        ]
      }

      const targeted_charts = new frappe.Chart("#targeted-by-appeal", { // or a DOM element,
        
        title: "",
        data: targeted_data,
        type: 'bar', // or 'bar', 'line', 'scatter', 'pie', 'percentage'
        height: 350,
        colors: ["#FA575C", "#0F6FB5", "#DBDFD9", "#758D91"],

        barOptions: {
          stacked: 1
        }
      })
    })
  </script>
  <script>
    function convert_float(number) {

      return Math.round(number * 100) / 100;
    }
    d3.csv('src/data/data.csv', function (received) {
      var fundingRcv12 = [],
        fundingRcv34 = [],
        fundingRcv56 = [],
        fundingRcv7 = [],
        yearsArr = [];

      received.forEach(function (element, index) {
        if (element['indicator'] === 'Funding Received') {
          fundingRcv12.push(formatFloat(Number(element['_1_2y'])));
          fundingRcv34.push(formatFloat(Number(element['_3_4y'])));
          fundingRcv56.push(formatFloat(Number(element['_5_6y'])));
          fundingRcv7.push(formatFloat(Number(element['_7y'])));
          yearsArr.push(Number(element['year']));
        }

      });
      const received_data = {
        labels: yearsArr,
        datasets: [{
            name: "1-2 years",
            type: "line",
            values: fundingRcv12
          },
          {
            name: "3-4 years",
            type: "line",
            values: fundingRcv34
          },
          {
            name: "5-6 years",
            type: "line",
            values: fundingRcv56
          },
          {
            name: ">7 years",
            type: "line",
            values: fundingRcv7
          }

        ]
      }

      const received_charts = new frappe.Chart("#received-by-appeal", { // or a DOM element,
        
        title: "",
        data: received_data,
        type: 'bar', // or 'bar', 'line', 'scatter', 'pie', 'percentage'
        height: 350,
        colors: ["#FA575C", "#0F6FB5", "#DBDFD9", "#758D91"],

        barOptions: {
          stacked: 1
        }
      });

    })
  </script>
  <script>
    var humdevCall = $.ajax({
      type: 'GET',
      url: 'https://proxy.hxlstandard.org/data.json?strip-headers=on&url=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2F1q8CtQ5WF0k9E6dYiPmYDTRysLmxFfRRJaFuxnDlzPT8%2Fedit%23gid%3D1471518527&force=on',
      dataType: 'json',
    });
    $.when(humdevCall).then(function (humdevArgs) {
      var humdevData = hxlProxyToJSON(humdevArgs);
      genererGraphesDetails(humdevData)
    });

    function genererGraphesDetails(data) {

      var sortData = function (d1, d2) {
        if (d1.key > d2.key) return 1;
        if (d1.key < d2.key) return -1;
        return 0;
      };

      var date_sort = function (d1, d2) {
        if (d1['#date+year'] > d2['#date+year']) return 1;
        if (d1['#date+year'] < d2['#date+year']) return -1;
        return 0;
      }

      var cf = crossfilter(data);
      var crisesDim,
        crisesGroup,
        crisesChart;
      crisesDim = cf.dimension(function (d) {
        return d['#country+name'];
      });
      crisesGroup = crisesDim.group().reduceCount().all();     
      html = '';
      for (i = 0; i < crisesGroup.length; i++) {
        html += '<tr id="" class="country-row">' +
          '<td><a id="a-' + crisesGroup[i].key.replace(/ /g, "").replace(/'/g, "") +
          '" data-toggle="modal"  data-target="#modal-' + crisesGroup[i].key.replace(/ /g, "").replace(/'/g, "").replace(
            /[-\/\\^$*+?.()|[\]{}]/g, "") +
          '">' + crisesGroup[i].key + ' <i class="fas fa-bars"></i></a></td>' +
          '<td class="percentagebar">' +
          '<div class="outerbar">' +
          '<div class="innerbar" style="width:' + crisesGroup[i].value + '%;"></div>' +
          '</div>' +
          '</td><td>&nbsp;<strong class="percent">' + crisesGroup[i].value + '</strong></td>' +
          '</tr>' +
          '<tr class="table-info">' +
          '<td colspan="3">' +
          '<div class="crises-modal modal fade" id="modal-' + crisesGroup[i].key.replace(/ /g, "").replace(/'/g, "").replace(
            /[-\/\\^$*+?.()|[\]{}]/g, "") +
          '" aria-labelledby="headingOne" tabindex="-1" role="dialog" aria-hidden="true">' +
          '<div class="modal-dialog">' +
          '<div class="modal-content">' +
          '<div class="close-modal" data-dismiss="modal">' +
          '<div class="lr">' +
          '<div class="rl"></div>' +
          '</div>' +
          '</div>' +
          '<div class="container-fluid">' +
          '<div class="row">' +
          '<div class="container-fluid mx-auto">' +
          '<div class="modal-body">' +
          '<div class="container-fluid">' +
          '<h1 class="text mb-4 text-center">' + crisesGroup[i].key + '</h1>' +
          '<div class="row">' +
          '<div class="col-md-4">' +
          '<h4 class="text-left">Funding</h4>' +
          '<div id="chart-funding-' + crisesGroup[i].key.replace(/ /g, "").replace(/'/g, "").replace(
            /[-\/\\^$*+?.()|[\]{}]/g, "") + '" ></div>' +
          '</div>' +
          '<div class="col-md-4">' +
          '<h4 class="text-left">People targeted</h4>' +
          '<div id="chart-targeted-' + crisesGroup[i].key.replace(/ /g, "").replace(/'/g, "").replace(
            /[-\/\\^$*+?.()|[\]{}]/g, "") + '" ></div>' +
          '</div>' +
          '<div class="col-md-4">' +
          '<h4 class="text-left">Internally displaced persons by conflict or violence (IDMC)</h4>' +
          '<div id="chart-people-concern-' + crisesGroup[i].key.replace(/ /g, "").replace(/'/g, "").replace(
            /[-\/\\^$*+?.()|[\]{}]/g, "") + '" ></div>' +
          '</div>' +
          '</div>' +
          '<div class="row">' +
          '<div class="col-md-4">' +
          '<h4 class="text-left">People affected by natural disasters</h4>' +
          '<div id="chart-disaster-' + crisesGroup[i].key.replace(/ /g, "").replace(/'/g, "").replace(
            /[-\/\\^$*+?.()|[\]{}]/g, "") + '" ></div>' +
          '</div>' +
          '<div class="col-md-4">' +
          '<h4 class="text-left">Mortality rate, under-5 (per 1,000 live births)</h4>' +
          '<div id="chart-mortality-' + crisesGroup[i].key.replace(/ /g, "").replace(/'/g, "").replace(
            /[-\/\\^$*+?.()|[\]{}]/g, "") + '" ></div>' +
          '</div>' +
          '</div>' +
          '<button class="btn btn-primary" data-dismiss="modal" type="button">' +
          '<i class="fas fa-times"></i>' +
          'Close</button>' +
          '</div>' +
          '</div>' +
          '</div>' +
          '</div>' +
          '</div>' +
          '</div>' +
          '</div>' +
          '</div>' +
          '</td></tr>';
      }

      $('#crises tbody').append(html);
      for (j = 0; j < crisesGroup.length; j++) {
        drawDetailChart('bar', crisesDim.filter(crisesGroup[j].key).top(Infinity).sort(date_sort),
          crisesGroup[j].key.replace(/ /g, "").replace(/'/g, "").replace(/[-\/\\^$*+?.()|[\]{}]/g, ""));
      } 
    }
    function hxlProxyToJSON(input, headers) {
      var output = [];
      var keys = []
      input.forEach(function (e, i) {
        if (i == 0) {
          e.forEach(function (e2, i2) {
            var parts = e2.split('+');
            var key = parts[0]
            if (parts.length > 1) {
              var atts = parts.splice(1, parts.length);
              atts.sort();
              atts.forEach(function (att) {
                key += '+' + att
              });
            }
            keys.push(key);
          });
        } else {
          var row = {};
          e.forEach(function (e2, i2) {
            row[keys[i2]] = e2;
          });
          output.push(row);
        }
      });
      return output;
    }
  </script>
  <script>
    function nFormatter(num) {     
      if (num >= 1000000000) {
        return (num / 1000000000).toFixed(1).replace(/\.0$/, '') + 'G';
      }
      if (num >= 1000000) {
        return (num / 1000000).toFixed(1).replace(/\.0$/, '') + 'M';
      }
      if (num >= 1000) {
        return (num / 1000).toFixed(1).replace(/\.0$/, '') + 'K';
      }
      return num;
    }

    function drawDetailChart(chartType, data, renderIt) {
      let targeted = [],
        dates = [],
        fundingReq = [],
        fundingReceiv = [],
        lengthCrisis = [],
        idmcIDPs = [],
        affDisaster = [],
        mortality = [];

      for (d in data) {
        dates.push(Number(data[d]['#date+year']));
        targeted.push(Number(data[d]['#inneed+targeted']));
        fundingReq.push(Number(data[d]['#funding+requirements']));
        fundingReceiv.push(Number(data[d]['#funding+received']));
        lengthCrisis.push(parseInt(data[d]['#indicator+length_crisis']));
        idmcIDPs.push(data[d]['#inneed+idmc+idps']);
        affDisaster.push(Number(data[d]['#affected+natural_disasters+total']));
        mortality.push(formatFloat(Number(data[d]['#indicator+under5_mort'])));
      }
      // console.log(lengthCrisis);
      const data_funding = {
        labels: dates,
        datasets: [{
            name: "Consecutive length of appeals",
            chartType: "line",
            values: lengthCrisis,
            axisID: "right-axis",
          },
          {
            name: "Funding requested",
            chartType: "bar",
            values: fundingReq,
          },
          {
            name: "Funding received",
            chartType: "bar",
            values: fundingReceiv,
          }

        ]
      }

      const data_targeted = {
        labels: dates.sort(),
        datasets: [{
          name: "Targeted",
          type: "line",
          values: targeted
        }]
      }

      const data_people_concern = {
        labels: dates.sort(),
        datasets: [{
          name: "IDPs",
          type: "line",
          values: idmcIDPs
        }]
      }

      const data_disaster = {
        labels: dates.sort(),
        datasets: [{
          name: "Affected",
          type: "line",
          values: affDisaster
        }]
      }

      const data_mortality = {
        labels: dates.sort(),
        datasets: [{
          name: "Rate",
          type: "line",
          values: mortality
        }]
      }


      $('#modal-' + renderIt).on('shown.bs.modal', function (e) {
        const country_targeted_charts = new frappe.Chart("#chart-targeted-" + renderIt, { // or a DOM element,          
          title: "",
          data: data_targeted,
          type: chartType, // or 'bar', 'line', 'scatter', 'pie', 'percentage'
          height: 350,
          tooltipOptions: {
            formatTooltipX: d => (d + '').toUpperCase(),
            formatTooltipY: d => nFormatter(d),
          },
          colors: ["#FA575C", "#0F6FB5"],
          barOptions: {
            stacked: 0
          }
        });

        const country_funding_chart = new frappe.Chart("#chart-funding-" + renderIt, { // or a DOM element,          
          title: "",
          data: data_funding,
          type: 'axis-mixed', // or 'bar', 'line', 'scatter', 'pie', 'percentage'
          height: 350,
          colors: ["#758D91", "#FA575C", '#0F6FB5'],
          tooltipOptions: {
            formatTooltipX: d => (d + '').toUpperCase(),
            formatTooltipY: d => nFormatter(d),
          },
          lineOptions: {
            dotSize: 8
          },
          barOptions: {
            stacked: 1
          },
          yAxis: [{
              id: 'left-axis',
              position: 'left',
              unit: 4,
            },
            {
              id: 'right-axis',
              position: 'right',
              count: 4,
            }
          ],
        });

        const country_people_concern_charts = new frappe.Chart("#chart-people-concern-" + renderIt, { // or a DOM element,
          title: "",
          data: data_people_concern,
          type: chartType, // or 'bar', 'line', 'scatter', 'pie', 'percentage'
          height: 350,
          colors: ["#FA575C", "#0F6FB5"],
          tooltipOptions: {
            formatTooltipX: d => (d + '').toUpperCase(),
            formatTooltipY: d => nFormatter(d),
          },
          barOptions: {
            stacked: 0
          }
        });

        const country_disaster_charts = new frappe.Chart("#chart-disaster-" + renderIt, { // or a DOM element,          
          title: "",
          data: data_disaster,
          type: chartType, // or 'bar', 'line', 'scatter', 'pie', 'percentage'
          height: 350,
          colors: ["#FA575C", "#0F6FB5"],
          tooltipOptions: {
            formatTooltipX: d => (d + '').toUpperCase(),
            formatTooltipY: d => nFormatter(d),
          },
          barOptions: {
            stacked: 0
          }
        });
        const country_mortality_charts = new frappe.Chart("#chart-mortality-" + renderIt, { // or a DOM element,
          title: "",
          data: data_mortality,
          type: chartType, // or 'bar', 'line', 'scatter', 'pie', 'percentage'
          height: 350,
          colors: ["#FA575C", "#0F6FB5"],
          tooltipOptions: {
            formatTooltipX: d => (d + '').toUpperCase(),
            formatTooltipY: d => nFormatter(d),
          },
          barOptions: {
            stacked: 0
          }
        });
      })
    }
    
    //function for font accessibility option
    function resizeText(multiplier) {

      if (multiplier == 'add') {
        $(
          ".text-50, .nav-link, .hdxChart, .sources, .country-row, .text-black-50, .card-body, .modal-body, .list-group-item, .text > *"
        ).each(function (index) {
          $(this).css({
            "font-size": function (index, value) {
              if (parseFloat(value) <= 30)
                return parseFloat(value) * 1.1;
            }
          });
        });

      } else {
        $(
          ".text-50, .nav-link, .hdxChart, .sources, .country-row, .text-black-50, .card-body, .modal-body, .list-group-item, .text > *"
        ).each(function (index) {
          $(this).css({
            "font-size": function (index, value) {
              if (parseFloat(value) > 20)
                return parseFloat(value) / 1.1;
            }
          });
        });

      }

    }
  </script>

</body>

</html>